[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "AboutHobbies\n\n\n\nMore about me!\n\nI am pursuing a Master of Environmental Data Science degree at the University of California, Santa Barbara. I graduated from the University of California, Santa Cruz in 2022 with a Bachelor’s degree in Environmental Sciences, where I focused on climate change and oceanography. While there, I was a Santa Cruz Climate Action Program Intern who collected data on potential community responses to coastal erosion. Surveying and collecting data as an intern, doing field work through courses at UCSC, and working with climate models in my undergradauate capstone project inspired my curiosity for data as a tool of scientific communication. Interest in undergraduate environmental data analysis and climate modeling drove me to seek out the Bren School for Environmental Science & Management to deepen my understanding of the ocean’s response to climate change. I want to learn how to use data science as a tool to find solutions to the issues faced by coastal communities and ecosystems in response to climate change. I hopes to use my degree to contribute to sustainable technology and to further my interests in ocean conservation through environmental modeling.\n\n\n\nSpending time by the ocean\nHiking and camping with my pups\nMusic (going to concerts or playing it!)\nScuba diving\nExploring new restaurants"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kiran Favre",
    "section": "",
    "text": "Hi!\nI’m Kiran, and I am currently a graduate student at the Bren School for Environmental Science & Management at the University of California, Santa Barbara. I am currently working on a capstone project with a group to create an application that automates our client’s data entry workflow and a data visualization application. I am interested in climate change, science communication, and marine conservation.\n\n\nEducation\n\nGraduation Cap Master’s of Environmental Data Science, expected 2023\n\n\nBren School for Environmental Science & Management, University of California, Santa Barbara\n\n\nGraduation Cap BS in Environmental Sciences, 2022\n\n\nUniversity of California, Santa Cruz"
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html",
    "href": "posts/2022-12-08_EDS222_final/index.html",
    "title": "Analysis of California Coastal Erosion",
    "section": "",
    "text": "Coastal erosion is a natural process of sediment removal that occurs due to storms and waves. Climate change has caused sea levels to rise, increasing concerns for possible effects on the coastlines. While this is a natural process, some coastal communities could be facing more coastal erosion than others considering the level of development along the coast. As of 2015, approximately 68% (26.3 million people) of California residents live in a coastal area (within approximately half a mile of the mean high water line) and have likely witnessed some level of coastal erosion. California’s coastlines are also susceptible to erosion due to its tectonic activity and exposure to extreme weather events such as ENSO.\nEfforts to mitigate and adapt to erosion along the coastline have been made as concerns have rised for the displacement of communities and general safety. The Department of Boating & Waterways is responsible for responding to coastal erosion in California. In areas in need of attention, such as where roads or homes collapse off of cliff tops or beach front properties being flooded, there are different levels of responses depending on the intensity of erosion. Sand replenishment and seawall or jetty installation are currently used to maintain the current infrastructure along the coastlines. This type of analysis can help in evaluating areas that need different solutions depending on the level of shoreline change."
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html#data",
    "href": "posts/2022-12-08_EDS222_final/index.html#data",
    "title": "Analysis of California Coastal Erosion",
    "section": "DATA",
    "text": "DATA\nThe data used for this analysis was produced by the Coastal and Marine Hazards and Resources Program with the United States Geological Survey. This data is publicly available through the USGS ScienceBase-Catalog in a data release from the Pacific Coastal and Marine Science Center. The spatial range spans the California coast, given in degrees latitude and longitude and Universal Transverse Mercator (UTM). California is broken into three regions: Northern, Central, and Southern. \nThe dataset I used includes shoreline change data along the coast of California from 2015-2016. Net shoreline movement, in meters, serves as the metric of shoreline change and what I will be observing. This data was compiled to observe changes in the shoreline in response to extreme weather, as it was collected during an El Niño event (2015 marking ‘before an El Niño’ and 2016 marking ‘after an El Niño’). Net shoreline movement was ’calculated at a transect spacing of 50 meters as a proxy for sandy shoreline change throughout the El Nino winter season.\nA limitation in this data is that I am using observations derived from USGS’s DSAS and Light Detection and Ranging (LiDAR) digital elevation models (DEMs), where these may have used their own assumptions that could introduce bias into this data set. Another limitation is the unequal distribution of observations per region: Southern California has many more observations than Northern or Central California, so an analysis on Southern California may be more representative of the population than the other regions studied.\nTo explore the data, I made histograms to understand the distribution of net shoreline movement in each region of California. The data is approximately normally distributed in all of California, with the most normal distribution in Southern California.\n\n\n\n\n\nShow code\n#read in 2015 data\nCA_2015_shoreline <- st_read(file.path(rootdir,\n                       \"data\",\n                       \"CA_shoreline_changes\",\n                       \"2015_2016_shoreline_changes\",\n                       \"CA_2015_2016_shoreline_change.shp\"))\n\n\n\n\nShow code\n#has only norcal observations\nnorcal_NSM <- CA_2015_shoreline |>\n  filter(Region == \"n\") |> \n  dplyr::select(NSM, Lat, Long) |> \n  na.omit()\n\n\n#has only cencal observations\ncencal_NSM <- (CA_2015_shoreline) |>\n  filter(Region == \"c\") |> \n  dplyr::select(NSM, Lat, Long) |> \n  na.omit()\n\n\n#has only socal observations\nsocal_NSM <- (CA_2015_shoreline) |> \n  filter(Region == \"s\") |> \n  dplyr::select(NSM, Lat, Long) |> \n  na.omit()\n\n\n\n\nShow code\n#Norcal\nnorcal_NSM_hist_n <- ggplot(norcal_NSM, aes(x = NSM)) +\n  geom_histogram(bins = 50,\n                 fill = \"skyblue\") +\n  labs(x = \"Net Shoreline Movement (m)\",\n       y = \"Count\",\n       title = \"Distribution of Net Shoreline Movement in Northern California\",\n       ) +\n  theme_minimal() +\n  theme(plot.title = element_text(size=10), \n        axis.title = element_text(size = 7))  \n\nnorcal_NSM_hist_n\n\n\n\n\n\n\n\nShow code\n#Cencal\ncencal_NSM_hist <- ggplot(cencal_NSM, aes(x = NSM)) +\n  geom_histogram(bins = 50,\n                 fill = \"skyblue\") +\n  labs(x = \"Net Shoreline Movement (m)\",\n       y = \"Count\",\n       title = \"Distribution of Net Shoreline Movement in Central California\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size=10),\n        axis.title = element_text(size = 7)) \n\ncencal_NSM_hist\n\n\n\n\n\n\n\nShow code\n#Socalsocal_NSM_hist\nsocal_NSM_hist <- ggplot(socal_NSM, aes(x = NSM)) +\n  geom_histogram(bins = 50,\n                 fill = \"skyblue\") +\n  labs(x = \"Net Shoreline Movement (m)\",\n       y = \"Count\",\n       title = \"Distribution of Net Shoreline Movement in Southern California\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size=10), \n        axis.title = element_text(size = 7))  \n\nsocal_NSM_hist"
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html#analysis",
    "href": "posts/2022-12-08_EDS222_final/index.html#analysis",
    "title": "Analysis of California Coastal Erosion",
    "section": "ANALYSIS",
    "text": "ANALYSIS\nTo understand if there is a relationship between location along the coast and net shoreline movement, I chose to analyze net shoreline movement by the three study regions: Northern, Central, and Southern California. I will begin with hypothesis testing to determine whether the mean net shoreline movement is the same in each region. The null hypothesis is that each region has the same average net shoreline movement. The alternative hypothesis is that each region does not have the same average net shoreline movement.\n\\[\nH_0:\\mu_{Norcal} - \\mu_{Cencal} - \\mu_{Socal} = 0,\nH_1: \\mu_{Norcal} - \\mu_{Cencal} - \\mu_{Socal} \\neq 0\n\\]\nI calculated the average of each region, and found that the average net shoreline movement is not the same across regions. The average net shoreline movement was least in Central California and most in Southern California. A positive value for net shoreline movement indicates an extending coastline, where a negative value indicates erosion, so Central California is estimated to be experiencing the most erosion while Southern California is estimated to be experiencing the least.\n\n\nShow code\nnorcal_mean_NSM <- mean(norcal_NSM$NSM)\n\ncencal_mean_NSM <- mean(cencal_NSM$NSM)\n\nsocal_mean_NSM <- mean(socal_NSM$NSM)\n\n#make df to plot\nRegion <- c(\"Northern CA\",\n            \"Central CA\",\n            \"Southern CA\")\nMean_NSM <- c(\"-25.512\", \"-45.702\", \"-9.743\")\n\ndf <- data.frame(Region, Mean_NSM)\nprint(df)\n\n\n       Region Mean_NSM\n1 Northern CA  -25.512\n2  Central CA  -45.702\n3 Southern CA   -9.743\n\n\nNext, I ran a multiple linear regression of the impact of location on net shoreline movement. Using the equation:\n\\[NSM =\\beta_{0}+\\beta_{1} \\cdot Longitude +\\beta_{2} \\cdot \\text Latitude+\\varepsilon_i\\] I broke the data into the regions, and used this model for each region. Using RStudio, I was able to calculate the values for the coefficients, listed below."
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html#results",
    "href": "posts/2022-12-08_EDS222_final/index.html#results",
    "title": "Analysis of California Coastal Erosion",
    "section": "RESULTS",
    "text": "RESULTS\nNorthern California\n\n\nShow code\n#make model \nmod_n <- lm(NSM ~ Long + Lat,\n            data = norcal_NSM)\nsummary(mod_n)\n\n#plot longitude vs NSM\nnorcal_mod_lon <- ggplot(data = norcal_NSM,\n       aes(x = Long,\n             y = NSM,\n             color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_n), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Long\",\n       y = \"NSM\",\n       main = \"Multiple linear regression of NSM ~ Long + Lat\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x= element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7))\n\n#plot latitude vs NSM \nnorcal_mod_lat <- ggplot(data = norcal_NSM, aes(x = Lat,\n                                        y = NSM,\n                                        color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_n), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Lat\",\n       y = \"NSM\",\n       main = \"Multiple linear regression of NSM ~ Long + Lat\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x= element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7))\n\nggarrange(norcal_mod_lon, norcal_mod_lat)\n\n\n\n\n\nCentral California:\n\n\nShow code\n#make model for cencal \nmod_c <- lm(NSM ~ Long + Lat,\n            data = cencal_NSM)\nsummary(mod_c)\n#plot mod on Long vs NSM\ncencal_mod_lon <- ggplot(data = cencal_NSM, aes(x = Long,\n                                        y = NSM,\n                                        color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_c), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Long\",\n       y = \"NSM\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x= element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7))\n\n#model on latitude vs NSM\ncencal_mod_lat <- ggplot(data = cencal_NSM, aes(x = Lat,\n                                        y = NSM,\n                                        color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_c), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Lat\",\n       y = \"NSM\",\n       main = \"Multiple linear regression of NSM ~ Long + Lat\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x= element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7))\n\n#plot side by side\nggarrange(cencal_mod_lon, cencal_mod_lat)\n\n\n\n\n\nSouthern California:\n\n\nShow code\n#make model for southern CA\nmod_s <- glm(NSM ~ Long + Lat,\n            data = socal_NSM)\nsummary(mod_s)\n\n#plot model on longitude vs NSM\nsocal_mod_lon <- ggplot(data = socal_NSM, aes(x = Long,\n                                        y = NSM,\n                                        color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_s), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Longitude (degrees)\",\n       y = \"NSM\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x=element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7))\n\n#model on lat vs NSM\nsocal_mod_lat <- ggplot(data = socal_NSM, aes(x = Lat,\n                                        y = NSM,\n                                        color = NSM)) +\n  geom_point() +\n  geom_jitter() +\n  geom_line(data = augment(mod_s), aes(y = .fitted,),\n            color = \"blue\") +\n  labs(x = \"Latitude(degrees)\",\n       y = \"NSM\") +\n  theme_minimal() +\n  scale_color_gradient(low = \"purple\", high = \"orange\") +\n  theme(panel.grid = element_blank(),\n        axis.text.x= element_text(size=5.5),\n        axis.title = element_text(size = 8),\n        legend.key.size = unit(0.4, 'cm'),\n        legend.text = element_text(size = 6),\n        legend.title = element_text(size = 7)) \n\n#plot side by side\nggarrange(socal_mod_lon, socal_mod_lat)\n\n\n\n\n\nNorthern California Regression Model Summary:\n\n\nShow code\nmod_n <- lm(NSM ~ Long + Lat,\n            data = norcal_NSM)\ntab_model(mod_n)\n\n\n\n\n\n \nNSM\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n-1284.29\n-1838.13 – -730.45\n<0.001\n\n\nLong\n-10.08\n-15.13 – -5.03\n<0.001\n\n\nLat\n0.28\n-1.68 – 2.23\n0.782\n\n\nObservations\n1524\n\n\nR2 / R2 adjusted\n0.068 / 0.067\n\n\n\n\n\n\nCentral California Regression Model Summary:\n\n\nShow code\nmod_c <- lm(NSM ~ Long + Lat,\n            data = cencal_NSM)\ntab_model(mod_c)\n\n\n\n\n\n \nNSM\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n-13353.72\n-16584.15 – -10123.30\n<0.001\n\n\nLong\n-134.26\n-167.45 – -101.07\n<0.001\n\n\nLat\n-82.71\n-104.86 – -60.57\n<0.001\n\n\nObservations\n1033\n\n\nR2 / R2 adjusted\n0.112 / 0.110\n\n\n\n\n\n\nSouthern California Regression Model Summary:\n\n\nShow code\nmod_s <- lm(NSM ~ Long + Lat,\n            data = socal_NSM)\ntab_model(mod_s)\n\n\n\n\n\n \nNSM\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n254.24\n186.79 – 321.69\n<0.001\n\n\nLong\n9.95\n8.88 – 11.01\n<0.001\n\n\nLat\n27.11\n25.16 – 29.05\n<0.001\n\n\nObservations\n5616\n\n\nR2 / R2 adjusted\n0.188 / 0.188"
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html#discussion",
    "href": "posts/2022-12-08_EDS222_final/index.html#discussion",
    "title": "Analysis of California Coastal Erosion",
    "section": "DISCUSSION",
    "text": "DISCUSSION\nAs the results of the hypothesis test show, the average net shoreline movement in each region of California is not equal. Due to this, I reject the null hypothesis that the average net shoreline movement will be equal in across all regions in California.\nThese plots indicate that there is a relationship between location in California and net shoreline movement. For the most part, as longitude decreases (moving eastward), the predicted net shoreline movement decrease (coastal erosion). As latitude increases (moving northward), the predicted net shoreline movement increases (coastal extension). These models estimate that shorelines that are more southeastern are at risk for more coastal erosion.\nThe regression summary tables can further help in understanding the estimated relationship between location and net shoreline movement. The model predicts the following: in Northern California, about 6.8% of the variance in net shoreline movement is due to its latitude and longitude. In Central California, about 11.2% of the variance in net shoreline movement is due to its latitude and longitude. In Southern California, about 18.8% of the variance in net shoreline movement is due to its latitude and longitude. The coefficients represent the magnitude of effect of that variable on net shoreline movement. These differ greatly between each region, which could mean that each region faces different levels of environmental stressors causing differing levels of coastal erosion."
  },
  {
    "objectID": "posts/2022-12-08_EDS222_final/index.html#future-research",
    "href": "posts/2022-12-08_EDS222_final/index.html#future-research",
    "title": "Analysis of California Coastal Erosion",
    "section": "FUTURE RESEARCH",
    "text": "FUTURE RESEARCH\nMore monitoring of this coastline will be essential in forming helpful policy and adaptation strategies. With how dynamic the shoreline is in lieu of natural processes, in addition to anthropogenic influences, it is important to improve the understanding of how the coastline is changing. The effects of climate change are being understood as they happen, which is why improving monitoring is crucial in forming an analysis of coastal erosion.\nAlong with the data collection itself, the model used here could be improved in the future to account for discrepancies here. Another analysis that could be helpful in answering this question would be a time series decomposition analysis. This data did not have time observations, rather metrics already calculated based on the time interval provided. These models can also be applied to other areas in the United States or globally that are facing similar problems. Future analyses could also include spatial interpolation to estimate coastal erosion for all of California. This recent study inspired my suggestion for spatial interpolation as a future analysis.\n\nREFERENCES\n\nBarnard, P.L., Smith, S.A., and Foxgrover, A.C., 2020, California shorelines and shoreline change data, 1998-2016: U.S. Geological Survey data release, https://doi.org/10.5066/P91QSGXF\n“California.” NOAA Office for Coastal Management, https://coast.noaa.gov/states/california.html. \nKoppes, Steve. New High-Resolution Study on California Coastal Cliff Erosion Released, Scripps Institution of Oceanography, 4 Aug. 2022, https://scripps.ucsd.edu/news/new-high-resolution-study-california-coastal-cliff-erosion-released. \nNOAA Office for Coastal Management ADS Group. “Coastal Zone Management Programs.” NOAA Office for Coastal Management | States and Territories Working on Ocean and Coastal Management, https://coast.noaa.gov/czm/mystate/#:~:text=The%20California%20coastal%20zone%20generally,line%20of%20highest%20tidal%20action. \n“U.S. Climate Resilience Toolkit.” Coastal Erosion | U.S. Climate Resilience Toolkit, https://toolkit.climate.gov/topics/coastal-flood-risk/coastal-erosion"
  },
  {
    "objectID": "posts/2023-05-03_geospatial/index.html",
    "href": "posts/2023-05-03_geospatial/index.html",
    "title": "Determining Suitable Oyster Habitats in West Coast EEZ’s",
    "section": "",
    "text": "This blog post is from my Geospatial Analysis and Remote Sensing course as a part of my master’s program at the Bren School for Environmental Science & Management. I will be determining which Exclusive Economic Zones (EEZ’s) on the West Coast of the United States are the most suitable for developing marine aquaculture for many species of oysters. Then, I make a function to map any species’ suitable habitats within West Coast EEZs by allowing for user inputs of species’ suitable habitats based on sea surface temperatures and depth."
  },
  {
    "objectID": "posts/2023-05-03_geospatial/index.html#data",
    "href": "posts/2023-05-03_geospatial/index.html#data",
    "title": "Determining Suitable Oyster Habitats in West Coast EEZ’s",
    "section": "Data",
    "text": "Data\n\nSea Surface Temperature Data\nI will use average annual sea surface temperature (SST) from the years 2008 to 2012 to characterize the average sea surface temperature within the region. The data we are working with was originally generated from NOAA’s 5km Daily Global Satellite Sea Surface Temperature Anomaly v3.1.\n\nBathymetry Data\nTo characterize the depth of the ocean, I will use the General Bathymetric Chart of the Oceans (GEBCO).[^3]\n\n\nExclusive Economic Zones Data\nWe will be designating maritime boundaries using Exclusive Economic Zones off of the west coast of US from Marineregions.org."
  },
  {
    "objectID": "posts/2023-05-03_geospatial/index.html#process",
    "href": "posts/2023-05-03_geospatial/index.html#process",
    "title": "Determining Suitable Oyster Habitats in West Coast EEZ’s",
    "section": "Process",
    "text": "Process\nI will start with loading the necessary data listed above and validate that all the data has the same coordinate reference system.\n\n\nShow code\nlibrary(tidyverse)\nlibrary(terra)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(here)\nlibrary(terra)\nlibrary(tmap)\nlibrary(tmaptools)\n\n\n#file path set by Rproj\nsetwd(here())\n\n\n\n\nShow code\n#read in West coast EEZ shape file w terra \nwc_EEZ_regions <- st_read(here(\"posts\",\n                               \"2023-05-03_geospatial\",\n                               \"data\",\n                               \"wc_regions_clean.shp\"))\n\n\nReading layer `wc_regions_clean' from data source \n  `C:\\Users\\kiran\\Documents\\MEDS 2022-2023\\kiranfavre.github.io\\posts\\2023-05-03_geospatial\\data\\wc_regions_clean.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 5 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -129.1635 ymin: 30.542 xmax: -117.097 ymax: 49.00031\nGeodetic CRS:  WGS 84\n\n\nShow code\n#read in SST rasters\navg_sst_2008 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2008.tif\"))\navg_sst_2009 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2009.tif\"))\navg_sst_2010 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2010.tif\"))\navg_sst_2011 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2011.tif\"))\navg_sst_2012 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2012.tif\"))\n\n#combine into raster stack \nall_sst <- c(avg_sst_2008,\n             avg_sst_2009,\n             avg_sst_2010,\n             avg_sst_2011,\n             avg_sst_2012)\n\n#read in bathymetry raster\ndepth <- rast(here(\"posts\",\n                    \"2023-05-03_geospatial\",\n                    \"data\",\n                    \"depth.tif\"))\n\n\nChecking if the coordinate reference systems are the same. The sea surface temperature data needs to be reprojected to match the coordinate reference systems of the EEZ and depth data.\n\n\nShow code\nst_crs(wc_EEZ_regions) # crs EPSG:4326\n\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]\n\n\nShow code\nst_crs(all_sst)  #crs EPSG:9122\n\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"unknown\",\n        ELLIPSOID[\"WGS84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1,\n                ID[\"EPSG\",9001]]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433,\n            ID[\"EPSG\",9122]]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433,\n                ID[\"EPSG\",9122]]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433,\n                ID[\"EPSG\",9122]]]]\n\n\nShow code\nst_crs(depth)  #crs EPSG 4326\n\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    ENSEMBLE[\"World Geodetic System 1984 ensemble\",\n        MEMBER[\"World Geodetic System 1984 (Transit)\"],\n        MEMBER[\"World Geodetic System 1984 (G730)\"],\n        MEMBER[\"World Geodetic System 1984 (G873)\"],\n        MEMBER[\"World Geodetic System 1984 (G1150)\"],\n        MEMBER[\"World Geodetic System 1984 (G1674)\"],\n        MEMBER[\"World Geodetic System 1984 (G1762)\"],\n        MEMBER[\"World Geodetic System 1984 (G2139)\"],\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]],\n        ENSEMBLEACCURACY[2.0]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    USAGE[\n        SCOPE[\"Horizontal component of 3D system.\"],\n        AREA[\"World.\"],\n        BBOX[-90,-180,90,180]],\n    ID[\"EPSG\",4326]]\n\n\nShow code\n#re project using the terra way\nall_sst_reproj <- project(all_sst,\n                          wc_EEZ_regions)\n\n\nWarning: [project,SpatRaster] argument y (the crs) should be a character value"
  },
  {
    "objectID": "posts/2023-05-03_geospatial/index.html#process-data",
    "href": "posts/2023-05-03_geospatial/index.html#process-data",
    "title": "Determining Suitable Oyster Habitats in West Coast EEZ’s",
    "section": "Process data",
    "text": "Process data\nNext, I need process the SST and depth data so that they can be combined, I will resample to match the SST data using the nearest neighbor approach since the extents, resolutions, and positions of the depth and SST are different.\n\n\nShow code\n#find the mean SST from 2008-2012\nmean_sst <- mean(all_sst_reproj)\n\n#convert sst from K to C\nmean_sst_c <- mean_sst - 273.15\n\n\n\n\nShow code\n#crop depth rast to match the extent of the SST rast\ndepth_cropped <- crop(depth,mean_sst_c)\n\n\n#using nearest neighbor approach to resample\ndepth_resampled <- resample(depth_cropped,\n                mean_sst_c,\n                method = \"near\")\n\n#stack to check if they have the same resolution\nresolution_test <- c(depth_resampled,\n                       all_sst_reproj)\n#they stacked properly, indicating that they both have same resolutions, extent, and crs\n\n\n\nFind suitable locations\nTo determine suitable locations for marine aquaculture, I need to look for locations that are suitable in terms of both SST and depth.\n\n\nShow code\n#oyster happy spots\n#sea surface temperature: 11-30&deg;C\\\n#depth: 0-70 meters below sea level\n\n#reclassify sst into suitable locations for oysters\n#reclassification matrix for suitable range of sst\n\nrcl_sst <- matrix(c(-Inf, 11, NA, 11, 30,\n                    1,30, Inf, NA), \n              ncol = 3, byrow = TRUE) #anything outside of range is NA\n#reclassifying raster using a reclassification matrix\nsst_suitable_locs <- classify(mean_sst_c,\n                     rcl = rcl_sst, \n                     include.lowest = TRUE)\n\n\n\n\nShow code\n#reclassify depth into suitable locations for oysters\n#reclassification matrix for suitable range of depths\n\nrcl_depth <- matrix(c(-Inf, -70, NA,\n                      -70, 0, 1,\n                      0, Inf, NA),\n                    ncol = 3, byrow = TRUE)\n\n#reclassifying raster using a reclassification matrix\ndepth_suitable_locs <- classify(depth_resampled,\n                     rcl = rcl_depth,\n                     include.lowest = TRUE)\n\n\n\n\nShow code\n#define function\nmult_fun <- function(x, y) {\n  return(x*y)}\n\n\n#find locations that satisfy both conditions\noyst_suitable_habitat <- lapp(c(sst_suitable_locs, depth_suitable_locs), mult_fun)\n\n\n\n\nDetermining the most suitable EEZ\nI want to determine the total suitable area within each EEZ so I can rank zones by priority. To do this, I will need to find the total area of suitable locations within each EEZ.\n\n\nShow code\n# making obj of individual cell size of areas that are suitable for oysters so we can find the size of each cell\ngrid_cell_size <- cellSize(oyst_suitable_habitat,\n                           mask = TRUE, #keep values within the suitable habitat\n                           transform = TRUE,\n                           unit = \"km\")\n\nplot(grid_cell_size, main = \"Cell Size\")\n\n\n\n\n\n\n\nShow code\n# rasterize wc shape file to help find total suitable area\n# Rasterize(): Transfer values associated with 'object' type spatial data (points, lines, polygons) to raster cells.\n# wc_EEZ regions are the points, and we will transfer those values to the raster i set up earlier for suitable oyster habitats\nwc_rasterized <- rasterize(wc_EEZ_regions,\n                           oyst_suitable_habitat,\n                           field = \"rgn\")\n\n\n\n\nShow code\n#make a mask of wc raster and suitable locs for oysters\n#goal is to have areas of suitable oyster habitat that also fall in w coast EEZ regions\nwc_mask <- mask(wc_rasterized, oyst_suitable_habitat,\n                updatevalue = NA,\n                inverse = FALSE)\n\n\n\n\nShow code\n#find area of each suitable zones with zonal() in each of 5 regions of EEZ\nwc_suitable_area <- zonal(grid_cell_size, wc_mask, na.rm = TRUE, sum)\n\n\n\n\nShow code\n#join data\nwc_suitable_EEZ <- full_join(wc_EEZ_regions, wc_suitable_area, by = \"rgn\") |> \n  mutate(suitable_area = area, #rename area to suitable area \n         percentage_suitable = (suitable_area/area_km2 * 100), #percentage of suitable area\n         .before = geometry)\n\nprint(wc_suitable_EEZ)\n\n\nSimple feature collection with 5 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -129.1635 ymin: 30.542 xmax: -117.097 ymax: 49.00031\nGeodetic CRS:  WGS 84\n                  rgn rgn_key      area_m2 rgn_id  area_km2      area\n1              Oregon      OR 179994061293      1 179994.06 1074.2562\n2 Northern California    CA-N 164378809215      2 164378.81  178.0246\n3  Central California    CA-C 202738329147      3 202738.33 4069.5671\n4 Southern California    CA-S 206860777840      4 206860.78 3508.1870\n5          Washington      WA  66898309678      5  66898.31 2378.2758\n  suitable_area percentage_suitable                       geometry\n1     1074.2562           0.5968287 MULTIPOLYGON (((-123.4318 4...\n2      178.0246           0.1083014 MULTIPOLYGON (((-124.2102 4...\n3     4069.5671           2.0073003 MULTIPOLYGON (((-122.9928 3...\n4     3508.1870           1.6959169 MULTIPOLYGON (((-120.6505 3...\n5     2378.2758           3.5550611 MULTIPOLYGON (((-122.7675 4...\n\n\n\n\nVisualize results\n\n\nShow code\n#set to interactive mode\ntmap_mode(\"view\")\n\n\ntmap mode set to interactive viewing\n\n\n\n\nShow code\n#map for total suitable area for oysters by region\n\noyst_area_map <- tm_basemap(\"Stamen.Terrain\") +\n  tm_shape(wc_suitable_EEZ) +\n  tm_polygons(col = 'area',\n              palette = 'Oranges',\n              alpha = 0.75,\n              border.col = 'black',\n              title = \"Total Suitable Area\") +\n  tm_text(\"rgn\", size = 0.54) +\n  tm_scale_bar(position = c(\"left\", \"right\"))\n \noyst_area_map\n\n\n\n\n\n\n\n\n\nShow code\n#map for percent suitable area by region\noyst_percentage_map <- tm_basemap(\"Stamen.Terrain\") +\n  tm_shape(wc_suitable_EEZ) +\n  tm_polygons(col = 'percentage_suitable',\n              palette = 'Purples',\n              alpha = 0.75,\n              border.col = 'black',\n              title = \"Percentage of Suitable Area\") +\n  tm_text(\"rgn\", size = 0.54) +\n  tm_scale_bar(position = c(\"left\", \"right\"))\n\noyst_percentage_map\n\n\n\n\n\n\n\n\n\nExpanding this workflow to other species\n\n\nShow code\nfind_suitable_locs <- function(SST_low, SST_high, depth_low, depth_high, spp_name) {\n\n  #read in West coast EEZ shape file w terra \nwc_EEZ_regions <- st_read(here(\"posts\",\n                               \"2023-05-03_geospatial\",\n                               \"data\",\n                               \"wc_regions_clean.shp\"))\n\n\n#read in SST rasters\navg_sst_2008 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2008.tif\"))\navg_sst_2009 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2009.tif\"))\navg_sst_2010 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2010.tif\"))\navg_sst_2011 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2011.tif\"))\navg_sst_2012 <- rast(here(\"posts\",\n                          \"2023-05-03_geospatial\",\n                          \"data\",\n                          \"average_annual_sst_2012.tif\"))\n\n#combine into raster stack \nall_sst <- c(avg_sst_2008,\n             avg_sst_2009,\n             avg_sst_2010,\n             avg_sst_2011,\n             avg_sst_2012)\n\n#read in bathymetry raster\ndepth <- rast(here(\"posts\",\n                    \"2023-05-03_geospatial\",\n                    \"data\",\n                    \"depth.tif\"))\n  \n  #re project using the terra way\n  all_sst_reproj <- project(all_sst, depth)\n  \n  #find the mean SST from 2008-2012\n  mean_sst <- mean(all_sst_reproj)\n  \n  #convert sst from K to C\n  mean_sst_c <- mean_sst - 273.15\n  \n  #crop depth rast to match the extent of the SST rast\n  depth_cropped <- crop(depth,mean_sst_c)\n  \n  #using nearest neighbor approach to resample\n  depth_resampled <- resample(depth_cropped,\n                              mean_sst_c,\n                              method = \"near\")\n  \n  #make reclassification matrix\n  rcl_sst <- matrix(c(-Inf, SST_low, NA, SST_low, SST_high,\n                      1, SST_high, Inf, NA), \n                    ncol = 3, byrow = TRUE) \n  \n  \n  #reclassifying sst raster using a reclassification matrix\n  sst_suitable_locs <- classify(mean_sst_c,\n                                rcl = rcl_sst, \n                                include.lowest = TRUE)\n  \n  #reclassifying depth raster using a reclassification matrix\n  rcl_depth <- matrix(c(-Inf, depth_low, NA,\n                        depth_low, depth_high, 1,\n                        depth_high, Inf, NA),\n                      ncol = 3, byrow = TRUE)\n  \n  \n  depth_suitable_locs <- classify(depth_resampled,\n                                  rcl = rcl_depth,\n                                  include.lowest = TRUE)\n  \n  #define function to multiply layers\n  mult_fun <- function(x, y) {\n    return(x*y)}\n  \n  #find locations that satisfy both conditions\n  oyst_suitable_habitat <- lapp(c(sst_suitable_locs, depth_suitable_locs), mult_fun)\n  \n  \n  #find grid cell size\n  grid_cell_size <- cellSize(oyst_suitable_habitat,\n                             mask = TRUE, \n                             transform = TRUE,\n                             unit = \"km\")\n  \n  wc_rasterized <- rasterize(wc_EEZ_regions,\n                             oyst_suitable_habitat,\n                             field = \"rgn\")\n  \n  wc_mask <- mask(wc_rasterized, oyst_suitable_habitat,\n                  updatevalue = NA,\n                  inverse = FALSE)\n  \n  wc_suitable_area <- zonal(grid_cell_size, wc_mask, na.rm = TRUE, sum)\n  \n  wc_suitable_EEZ <- full_join(wc_EEZ_regions, wc_suitable_area, by = \"rgn\") |> \n    mutate(suitable_area = area, #rename area to suitable area \n           percentage_suitable = (suitable_area/area_km2 * 100), #percentage of suitable area\n           .before = geometry)\n  \n  ##make maps \n  \n  #set to interactive viewing \n  tmap_mode(\"view\")\n  \n  #total area\n  viz_total_area <- tm_basemap(\"Stamen.Terrain\")+\n   tm_shape(wc_suitable_EEZ) +\n    tm_polygons(col = 'area',\n               palette = 'Oranges',\n                alpha = 0.75,\n                border.col = 'black',\n               title = paste0(\"Total Suitable Area for \", spp_name ,\" in West Coast EEZs\")) +\n    tm_text(\"rgn\", size = 0.54) \n \n   viz_total_area\n  \n  #percentage suitable\n  viz_percentage <- tm_basemap(\"Stamen.Terrain\") +\n    tm_shape(wc_suitable_EEZ) +\n    tm_polygons(col = 'percentage_suitable',\n                palette = 'Purples',\n                alpha = 0.75,\n                border.col = 'black',\n                title = paste0(\"Percentage of Suitable Area for \", spp_name ,\" in West Coast EEZs\")) +\n    tm_text(\"rgn\", size = 0.54) \n  \n  viz_percentage\n  \n  tmap_arrange(viz_total_area, viz_percentage)\n}\n\n\nI chose the Red Abalone, Haliotis rufescens. https://www.sealifebase.ca/summary/Haliotis-rufescens.html\n\n\nShow code\nabalone_habitats <- find_suitable_locs(8, 18, 0, 24, \"Red Abalone\")\n\n\nReading layer `wc_regions_clean' from data source \n  `C:\\Users\\kiran\\Documents\\MEDS 2022-2023\\kiranfavre.github.io\\posts\\2023-05-03_geospatial\\data\\wc_regions_clean.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 5 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -129.1635 ymin: 30.542 xmax: -117.097 ymax: 49.00031\nGeodetic CRS:  WGS 84\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\n\ntmap mode set to interactive viewing\n\n\nShow code\nabalone_habitats"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Blog",
    "section": "",
    "text": "Determining Suitable Oyster Habitats in West Coast EEZ’s\n\n\n\nR\n\n\nGeospatial\n\n\nCalifornia\n\n\n\nI will be using geospatial data to map suitable oyster habitats in Exclusive Economic Zones on the West Coast, and creating a function to find these zones for any species…\n\n\n\nKiran Favre\n\n\nMay 3, 2023\n\n\n\n\n\n\n\n\n\n\n\nAnalysis of California Coastal Erosion\n\n\n\nR\n\n\nGeospatial\n\n\nCalifornia\n\n\n\nUsing muliple linear regression analysis and USGS Coastal Change data to analyze where coastlines in California are eroding the most.\n\n\n\nKiran Favre\n\n\nDec 9, 2022\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "resume.html",
    "href": "resume.html",
    "title": "Resume",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  }
]